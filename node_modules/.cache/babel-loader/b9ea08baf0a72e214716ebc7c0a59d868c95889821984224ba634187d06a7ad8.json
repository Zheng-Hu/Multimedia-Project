{"ast":null,"code":"import axios from 'axios';\nimport * as echarts from 'echarts';\nimport redup from '@/assets/traffic-icon/redup.png';\nimport greenup from '@/assets/traffic-icon/greenup.png';\nimport yellowup from '@/assets/traffic-icon/yellowup.png';\nimport reddown from '@/assets/traffic-icon/reddown.png';\nimport yellowdown from '@/assets/traffic-icon/yellowdown.png';\nimport greendown from '@/assets/traffic-icon/greendown.png';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      tunnelCarSpeedList: [],\n      tunnelRoadSituationList: [],\n      redup: redup,\n      greenup: greenup,\n      yellowup: yellowup,\n      reddown: reddown,\n      greendown: greendown,\n      yellowdown: yellowdown\n    };\n  },\n  mounted() {\n    this.drwaTunnelTraffic();\n    this.drwaParkingBarChart();\n  },\n  methods: {\n    async drwaTunnelTraffic() {\n      let response = await axios.get('https://dashboard.data.gov.hk/api/traffic-speed?format=json');\n      this.tunnelCarSpeedList = response.data.map(function (item) {\n        return item.traffic_speed;\n      });\n      this.tunnelRoadSituationList = response.data.map(function (item) {\n        return item.road_saturation_level.slice(8);\n      });\n    },\n    async drwaParkingBarChart() {\n      let response = await axios.get('https://api.data.gov.hk/v1/carpark-info-vacancy?data=vacancy');\n      let response1 = await axios.get('https://api.data.gov.hk/v1/carpark-info-vacancy?lang=zh_TW');\n      let parkingMap = new Map();\n      console.log(response1);\n      let parkingVacancyList = response.data.results.filter(item => item.privateCar && item.privateCar[0].vacancy > 0);\n      console.log(parkingVacancyList);\n      var parkingVacancyBarChart = echarts.init(document.getElementById(\"parkingVacancyBarChart\"));\n      var option;\n      option = {\n        xAxis: {\n          type: 'category',\n          data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: [120, 200, 150, 80, 70, 110, 130],\n          type: 'bar'\n        }]\n      };\n      parkingVacancyBarChart.setOption(option);\n    }\n  }\n};","map":{"version":3,"mappings":"AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACA;IACA;EACA;EAEAC;IACA;MACA;MACA;QACA;MACA;MACA;QACA;MAEA;IACA;IACA;MACA;MACA;MACA;MAEAC;MACA;MAGAA;MAGA;MACA;MACAC;QACAC;UACAC;UACAd;QACA;QACAe;UACAD;QACA;QACAE,SACA;UACAhB;UACAc;QACA;MAEA;MACAG;IACA;EACA;AACA","names":["name","data","tunnelCarSpeedList","tunnelRoadSituationList","redup","greenup","yellowup","reddown","greendown","yellowdown","mounted","methods","console","option","xAxis","type","yAxis","series","parkingVacancyBarChart"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div id=\"parkingVacancyBarChart\" style=\"height: 400px; width: 600px\"></div>\n    <div class=\"tunnel-traffic\">\n     \n      <div class=\"block1\" style=\"margin-right: 30px;\">\n        <div class=\"header\">\n          <span>西区海底隧道</span>\n        </div>\n        <div class=\"content\">\n          <div>\n            <h6>九龙</h6>\n            <div class=\"speed-content\">\n              <div class=\"speed-left\">{{ this.tunnelCarSpeedList[1] }}</div>\n              <img style=\"margin-right: 10px;\" width=\"30\"\n                :src=\"this.tunnelRoadSituationList[1] === 'GOOD' ? greenup : (this.tunnelRoadSituationList[1] === 'AVERAGE' ? yellowup : redup)\">\n              <img width=\"30\"\n                :src=\"this.tunnelRoadSituationList[5] === 'GOOD' ? greendown : (this.tunnelRoadSituationList[5] === 'AVERAGE' ? yellowdown : reddown)\">\n              <div class=\"speed-right\">{{ this.tunnelCarSpeedList[5] }}</div>\n            </div>\n            <h6>香港</h6>\n\n          </div>\n        </div>\n\n      </div>\n      <div class=\"block1\" style=\"margin-right: 30px;\">\n        <div class=\"header\">\n          <span>红磡海底隧道</span>\n        </div>\n        <div class=\"content\">\n          <div>\n            <h6>九龙</h6>\n            <div class=\"speed-content\">\n              <div class=\"speed-left\">{{ this.tunnelCarSpeedList[4] }}</div>\n              <img style=\"margin-right: 10px;\" width=\"30\"\n                :src=\"this.tunnelRoadSituationList[4] === 'GOOD' ? greenup : (this.tunnelRoadSituationList[4] === 'AVERAGE' ? yellowup : redup)\">\n              <img width=\"30\"\n                :src=\"this.tunnelRoadSituationList[0] === 'GOOD' ? greendown : (this.tunnelRoadSituationList[0] === 'AVERAGE' ? yellowdown : reddown)\">\n              <div class=\"speed-right\">{{ this.tunnelCarSpeedList[0] }}</div>\n            </div>\n            <h6>香港</h6>\n\n          </div>\n        </div>\n      </div>\n      <div class=\"block1\">\n        <div class=\"header\">\n          <span>东区海底隧道</span>\n        </div>\n        <div class=\"content\">\n          <div>\n            <h6>九龙</h6>\n            <div class=\"speed-content\">\n              <div class=\"speed-left\">{{ this.tunnelCarSpeedList[2] }}</div>\n              <img style=\"margin-right: 10px;\" width=\"30\"\n                :src=\"this.tunnelRoadSituationList[2] === 'GOOD' ? greenup : (this.tunnelRoadSituationList[2] === 'AVERAGE' ? yellowup : redup)\">\n              <img width=\"30\"\n                :src=\"this.tunnelRoadSituationList[3] === 'GOOD' ? greendown : (this.tunnelRoadSituationList[3] === 'AVERAGE' ? yellowdown : reddown)\">\n              <div class=\"speed-right\">{{ this.tunnelCarSpeedList[3] }}</div>\n            </div>\n            <h6>香港</h6>\n\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport redup from '@/assets/traffic-icon/redup.png'\nimport greenup from '@/assets/traffic-icon/greenup.png'\nimport yellowup from '@/assets/traffic-icon/yellowup.png'\nimport reddown from '@/assets/traffic-icon/reddown.png'\nimport yellowdown from '@/assets/traffic-icon/yellowdown.png'\nimport greendown from '@/assets/traffic-icon/greendown.png'\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      tunnelCarSpeedList: [],\n      tunnelRoadSituationList: [],\n      redup: redup,\n      greenup: greenup,\n      yellowup: yellowup,\n      reddown: reddown,\n      greendown: greendown,\n      yellowdown: yellowdown\n    }\n  },\n\n  mounted() {\n    this.drwaTunnelTraffic();\n    this.drwaParkingBarChart();\n  },\n\n  methods: {\n    async drwaTunnelTraffic() {\n      let response = await axios.get('https://dashboard.data.gov.hk/api/traffic-speed?format=json')\n      this.tunnelCarSpeedList = response.data.map(function (item) {\n        return item.traffic_speed\n      })\n      this.tunnelRoadSituationList = response.data.map(function (item) {\n        return item.road_saturation_level.slice(8)\n\n      })\n    },\n    async drwaParkingBarChart() {\n      let response = await axios.get('https://api.data.gov.hk/v1/carpark-info-vacancy?data=vacancy')\n      let response1 = await axios.get('https://api.data.gov.hk/v1/carpark-info-vacancy?lang=zh_TW')\n      let parkingMap = new Map()\n      \n      console.log(response1)\n      let parkingVacancyList = response.data.results.filter(item => item.privateCar && item.privateCar[0].vacancy > 0)\n      \n\n      console.log(parkingVacancyList)\n      \n      \n      var parkingVacancyBarChart = echarts.init(document.getElementById(\"parkingVacancyBarChart\"));\n      var option;\n      option = {\n        xAxis: {\n          type: 'category',\n          data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            data: [120, 200, 150, 80, 70, 110, 130],\n            type: 'bar'\n          }\n        ]\n      };\n      parkingVacancyBarChart.setOption(option);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.tunnel-traffic {\n  display: flex;\n  flex-direction: row;\n}\n\n.speed-content {\n  display: inline-flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.speed-left {\n  margin-right: 20px;\n}\n\n.speed-right {\n  margin-left: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}